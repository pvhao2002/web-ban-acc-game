@model BShop.Models.Entity.Cart
<div class="offcanvas offcanvas-end pb-0" tabindex="-1" id="offcanvasNavbarEmptyShoppingCart">
    <div class="offcanvas-header justify-content-between border-0 bg-info">
        <h5 class="offcanvas-title">Giỏ hàng</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>

    <div class="offcanvas-body d-flex justify-content-between flex-column h-100 px-0 pb-1">
        @if (Model.CartItems != null && Model.CartItems.Count > 0)
        {
            <div class="overflow-auto ps-1" style="max-height: 90%;">
                @foreach (var ci in Model.CartItems)
                {
                    <!-- Product -->
                    <div class="border-bottom pb-4 mb-4">
                        <div class="d-flex">
                            <div class="flex-shrink-0">
                                <div class="avatar avatar-lg me-3">
                                    <img class="avatar-img" src=@Url.Content(ci.Product.ProductImage) alt="Image Description">
                                    <sup class="avatar-status avatar-status-primary">@ci.Quantity</sup>
                                </div>
                            </div>

                            <div class="flex-grow-1">
                                <h6>@ci.Product.ProductName</h6>

                                <div class="d-grid">
                                    <div class="text-body">
                                        <span class="small">Giá:</span>
                                        <span class="small text-success fw-bold">
                                            @($"{ci.TotalPrice:n0}") đ
                                        </span>
                                    </div>

                                    <div class="text-body">
                                        <span class="small">Ngày:</span>
                                        <span class="small">@ci.UpdatedAt</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End Product -->
                }
            </div>

            <div class="d-flex justify-content-between align-items-center px-2">
                <div class="text-body">
                    <span class="small">Tổng cộng:</span>
                    <span class="small text-success fw-bold">
                        @($"{Model.TotalPrice:n0}") đ
                    </span>
                </div>
                <div>
                    <a class="btn btn-sm btn-primary px-2" href="/Checkout">Thanh toán</a>
                </div>
            </div>
        }
        else
        {
            <div class="text-center">
                <div class="mb-5">
                    <img class="avatar avatar-xl avatar-4x3" src="~/Assets/svg/illustrations/oc-empty-cart.svg" alt="SVG">
                </div>

                <div class="mb-5">
                    <h3>Giỏ hàng trống</h3>
                    <p>
                        Bắt đầu mua sắm và thêm sản phẩm vào giỏ hàng của bạn.
                    </p>
                </div>

                <a class="btn btn-primary btn-transition rounded-pill px-6" href="/Product">Mua hàng</a>
            </div>
        }
    </div>
</div>